<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Montecito Racing â€” GT Endurance Sim Team</title>
  <style>
    :root{
      --navy:#0a1224;       /* dark navy */
      --navy-2:#0e1a33;     /* deeper card */
      --red:#d61e2e;        /* team red */
      --red-hover:#ff4757;  /* brighter red on hover */
      --text:#f2f6ff;       /* light text */
      --muted:#a9b5d1;
      --border:#1d2a4a;
    }
    *{box-sizing:border-box; margin:0; padding:0}
    html,body{height:100%}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;
      background:linear-gradient(180deg,var(--navy),#0b152e 60%,#0a142b);
      color:var(--text);
      line-height:1.6;
    }
    a{color:var(--text); text-decoration:none; transition:all 0.3s ease}
    .container{max-width:1000px; margin:0 auto; padding:20px}

    /* ===== MODERN HEADER (Anthropic-style) ===== */
    header{
      position:sticky;
      top:0;
      z-index:1000;
      background:rgba(10, 18, 36, 0.8);
      backdrop-filter:saturate(180%) blur(20px);
      -webkit-backdrop-filter:saturate(180%) blur(20px);
      border-bottom:1px solid rgba(255, 255, 255, 0.06);
      transition:all 0.3s ease;
    }
    .nav-container{
      max-width:1280px;
      margin:0 auto;
      padding:14px 24px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:20px;
    }
    .logo-text{
      font-size:18px;
      font-weight:600;
      color:var(--text);
      letter-spacing:-0.3px;
      white-space:nowrap;
      text-decoration:none;
    }
    .logo-text:hover{
      opacity:0.85;
    }
    .logo-text span{
      color:var(--red);
    }

    /* Desktop Navigation */
    .nav-links{
      display:flex;
      gap:4px;
      align-items:center;
    }
    .nav-links a{
      padding:8px 14px;
      border-radius:8px;
      font-weight:500;
      font-size:14px;
      transition:all 0.2s ease;
      white-space:nowrap;
      position:relative;
    }
    .nav-links a:not(.btn-primary):hover{
      background:rgba(255, 255, 255, 0.08);
    }
    .nav-links a.active:not(.btn-primary){
      color:var(--text);
      background:rgba(255, 255, 255, 0.1);
    }
    .nav-links a.active:not(.btn-primary)::after{
      content:'';
      position:absolute;
      bottom:0;
      left:14px;
      right:14px;
      height:2px;
      background:var(--red);
      border-radius:2px;
    }
    .btn-primary{
      background:var(--red);
      color:#fff !important;
      font-weight:600;
      padding:8px 16px;
    }
    .btn-primary:hover{
      background:var(--red-hover);
      transform:translateY(-1px);
    }

    /* Hamburger Button with Text */
    .menu-button{
      display:none;
      align-items:center;
      gap:8px;
      padding:8px 12px;
      background:rgba(255, 255, 255, 0.05);
      border:1px solid rgba(255, 255, 255, 0.1);
      border-radius:8px;
      cursor:pointer;
      transition:all 0.2s ease;
      font-size:14px;
      font-weight:500;
      color:var(--text);
    }
    .menu-button:hover{
      background:rgba(255, 255, 255, 0.08);
    }
    .menu-button.active{
      background:rgba(255, 255, 255, 0.1);
    }
    .hamburger{
      display:flex;
      flex-direction:column;
      gap:4px;
      width:18px;
    }
    .hamburger span{
      width:100%;
      height:2px;
      background:var(--text);
      border-radius:2px;
      transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .menu-button.active .hamburger span:nth-child(1){
      transform:rotate(45deg) translate(5px, 5px);
    }
    .menu-button.active .hamburger span:nth-child(2){
      opacity:0;
    }
    .menu-button.active .hamburger span:nth-child(3){
      transform:rotate(-45deg) translate(5px, -5px);
    }

    /* Mobile Menu - Full Screen Overlay */
    @media (max-width:900px){
      .nav-links{
        position:fixed;
        top:0;
        left:0;
        right:0;
        bottom:0;
        background:rgba(10, 18, 36, 0.95);
        backdrop-filter:blur(20px);
        -webkit-backdrop-filter:blur(20px);
        flex-direction:column;
        justify-content:flex-start;
        align-items:center;
        gap:8px;
        padding:100px 24px 32px;
        opacity:0;
        pointer-events:none;
        transition:opacity 0.25s ease;
        z-index:999;
      }
      .nav-links.active{
        opacity:1;
        pointer-events:all;
      }
      .nav-links a{
        font-size:18px;
        padding:14px 24px;
        width:100%;
        max-width:320px;
        text-align:center;
        border-radius:8px;
        background:rgba(255, 255, 255, 0.03);
        border:1px solid rgba(255, 255, 255, 0.06);
      }
      .nav-links a:hover{
        background:rgba(255, 255, 255, 0.08);
      }
      .nav-links a.active:not(.btn-primary){
        background:rgba(255, 255, 255, 0.08);
        border-color:rgba(214, 30, 46, 0.3);
      }
      .nav-links a.active:not(.btn-primary)::after{
        display:none;
      }
      .btn-primary{
        margin-top:16px;
        padding:14px 28px;
        font-size:16px;
        background:var(--red);
        border-color:var(--red);
      }
      .menu-button{
        display:flex;
        z-index:1001;
      }

      /* Mobile overlay header */
      .mobile-overlay-header{
        display:none;
        position:fixed;
        top:0;
        left:0;
        right:0;
        padding:14px 24px;
        justify-content:space-between;
        align-items:center;
        z-index:1000;
        background:transparent;
      }
      .nav-links.active ~ .menu-button + .mobile-overlay-header,
      body.nav-open .mobile-overlay-header{
        display:flex;
      }
      .mobile-close-btn{
        width:40px;
        height:40px;
        display:flex;
        align-items:center;
        justify-content:center;
        background:rgba(255, 255, 255, 0.08);
        border:1px solid rgba(255, 255, 255, 0.1);
        border-radius:8px;
        color:var(--text);
        font-size:24px;
        cursor:pointer;
        transition:all 0.2s ease;
      }
      .mobile-close-btn:hover{
        background:rgba(255, 255, 255, 0.12);
      }
    }
    /* Body scroll lock */
    body.nav-open{
      overflow:hidden;
    }
    /* logo section */
    .logo-wrap{
      display:flex; align-items:center; justify-content:center;
      padding:24px; border:1px solid rgba(148, 163, 184, 0.15); border-radius:8px; background:linear-gradient(180deg,var(--navy-2),#0b162f);
      min-height:180px;
    }
    .logo-wrap img{max-height:clamp(120px, 18vw, 220px); width:auto; object-fit:contain}
    /* banner */
    .banner{
      margin:18px 0;
      border-radius:8px; overflow:hidden; border:1px solid rgba(148, 163, 184, 0.15);
      background:#0f1b36;
    }
    .banner img{display:block; width:100%; height:300px; object-fit:cover}
    /* sections */
    h1{font-size:clamp(24px,4vw,40px); margin:8px 0 6px}
    h2{font-size:clamp(18px,3vw,26px); margin:0 0 12px; border-left:4px solid var(--red); padding-left:12px}
    p.lead{color:#d7def1; margin:0 0 14px}
    .card{background:linear-gradient(180deg,var(--navy-2),#0b162f); border:1px solid rgba(148, 163, 184, 0.12); border-radius:8px; padding:24px; margin:16px 0}
    .grid{display:grid; grid-template-columns:1fr 1fr; gap:16px}
    @media (max-width:900px){ .grid{grid-template-columns:1fr} }
    ul.list{list-style:none; padding:0; margin:0}
    ul.list li{padding:12px 0; border-bottom:1px solid rgba(148, 163, 184, 0.15)}
    ul.list li:last-child{border-bottom:none}
    footer{margin:28px 0; text-align:center; color:var(--muted); font-size:14px}
    /* Buttons */
    .btn{
      display:inline-block;
      padding:10px 20px;
      background:transparent;
      border:1px solid rgba(148, 163, 184, 0.3);
      color:var(--text);
      border-radius:6px;
      font-weight:500;
      font-size:14px;
      cursor:pointer;
      transition:all 0.2s ease;
    }
    .btn:hover{
      background:rgba(255, 255, 255, 0.08);
      border-color:rgba(148, 163, 184, 0.5);
    }
    /* Mobile optimizations */
    @media (max-width:600px){
      .banner img{height:200px}
      .logo-wrap{padding:20px; min-height:140px}
      .logo-wrap img{max-height:140px; max-width:85vw}
      .container{padding:16px}
      .card{padding:20px; margin:12px 0}
    }

    /* ===== GT3 IMPACT BAR STYLES ===== */
    .impact-bar {
      margin: 24px 0;
      padding: 28px 28px 24px;
      max-width: 1000px;
      background: linear-gradient(180deg, rgba(14, 26, 51, 0.8) 0%, rgba(10, 18, 36, 0.9) 100%);
      border: 1px solid rgba(214, 30, 46, 0.3);
      border-radius: 8px;
      position: relative;
      box-shadow: 0 0 20px rgba(214, 30, 46, 0.1), 0 4px 16px rgba(0, 0, 0, 0.2);
      opacity: 0;
      transform: translateY(12px);
      animation: fadeInUp 0.5s ease-out 0.2s forwards;
    }

    /* Subtle pulse animation - heartbeat effect */
    @keyframes subtlePulse {
      0%, 100% {
        box-shadow: 0 0 20px rgba(214, 30, 46, 0.1), 0 4px 16px rgba(0, 0, 0, 0.2);
      }
      50% {
        box-shadow: 0 0 24px rgba(214, 30, 46, 0.15), 0 4px 16px rgba(0, 0, 0, 0.2);
      }
    }

    .impact-bar {
      animation: fadeInUp 0.5s ease-out 0.2s forwards, subtlePulse 4s ease-in-out 2s infinite;
    }

    /* Fade in animation */
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Hover state - intensify glow */
    .impact-bar:hover {
      box-shadow: 0 0 28px rgba(214, 30, 46, 0.2), 0 4px 16px rgba(0, 0, 0, 0.25);
      border-color: rgba(214, 30, 46, 0.5);
      transition: all 0.3s ease;
    }

    /* Metrics Container - Three Columns */
    .metrics-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 80px;
      margin-bottom: 24px;
    }

    /* Individual Metric Column */
    .metric-column {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    /* Metric Icon */
    .metric-icon {
      width: 24px;
      height: 24px;
      color: var(--muted);
      stroke-width: 2;
    }

    /* Metric Number - The Star */
    .metric-number {
      font-size: 42px;
      font-weight: 700;
      color: #ffffff;
      letter-spacing: -0.5px;
      font-variant-numeric: tabular-nums;
      text-shadow: 0 0 12px rgba(255, 255, 255, 0.4);
      line-height: 1;
    }

    /* Metric Label */
    .metric-label {
      font-size: 13px;
      font-weight: 500;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.8px;
    }

    /* Dividers between columns */
    .metric-divider {
      width: 1px;
      height: 80px;
      background: rgba(169, 181, 209, 0.2);
      margin: 0 20px;
    }

    /* Progress Section */
    .progress-section {
      position: relative;
      padding-top: 4px;
    }

    .progress-labels {
      display: flex;
      justify-content: space-between;
      margin-bottom: 8px;
      font-size: 11px;
    }

    .progress-percentage {
      color: #ffffff;
      font-weight: 600;
      text-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
    }

    .progress-goal {
      color: var(--muted);
    }

    /* Progress Track */
    .progress-track {
      height: 6px;
      width: 100%;
      background: rgba(169, 181, 209, 0.12);
      border: none;
      border-radius: 3px;
      overflow: hidden;
      position: relative;
    }

    /* Progress Fill */
    .progress-fill {
      height: 100%;
      background: linear-gradient(90deg, #d61e2e 0%, #e63946 50%, #ff4757 100%);
      border-radius: 3px;
      transition: width 0.8s ease-out;
      box-shadow: 0 0 6px rgba(214, 30, 46, 0.5);
    }

    /* Number update celebration animation */
    @keyframes numberCelebrate {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); color: #ff4757; }
      100% { transform: scale(1); }
    }

    /* Tablet Responsive (600px - 900px) */
    @media (max-width: 900px) {
      .impact-bar {
        padding: 20px;
      }

      .metric-number {
        font-size: 36px;
      }

      .metric-label {
        font-size: 12px;
      }

      .metric-icon {
        width: 20px;
        height: 20px;
      }

      .metrics-container {
        height: 70px;
      }

      .metric-divider {
        height: 70px;
        margin: 0 12px;
      }
    }

    /* Mobile Responsive (Below 600px) */
    @media (max-width: 600px) {
      .impact-bar {
        height: auto;
        padding: 20px;
      }

      .metrics-container {
        flex-direction: column;
        height: auto;
        gap: 0;
        margin-bottom: 20px;
      }

      .metric-column {
        flex-direction: row;
        width: 100%;
        justify-content: space-between;
        padding: 12px 0;
        gap: 12px;
      }

      .metric-icon {
        order: 1;
        flex-shrink: 0;
      }

      .metric-number {
        order: 2;
        flex: 1;
        text-align: center;
        font-size: 28px;
      }

      .metric-label {
        order: 3;
        text-align: right;
        flex-shrink: 0;
        font-size: 11px;
        max-width: 120px;
      }

      .metric-divider {
        width: 100%;
        height: 1px;
        margin: 0;
      }

      .progress-track {
        height: 10px;
      }

      .progress-labels {
        flex-direction: column;
        gap: 4px;
        margin-bottom: 8px;
      }

      .progress-goal {
        order: 2;
      }
    }

    /* Respect reduced motion preferences */
    @media (prefers-reduced-motion: reduce) {
      .impact-bar {
        animation: none;
        opacity: 1;
        transform: none;
      }

      .progress-fill {
        animation: none;
      }

      .metric-number {
        transition: none;
      }
    }
  </style>
</head>
<body style="scroll-behavior:smooth">
  <!-- Modern Sticky Header -->
  <header>
    <nav class="nav-container">
      <a href="index.html" class="logo-text">MONTECITO <span>RACING</span></a>
      <div class="nav-links">
        <a href="index.html" class="active">Home</a>
        <a href="our-story.html">Our Story</a>
        <a href="photo-gallery.html">Gallery</a>
        <a href="https://discord.gg/4ecn8DXf" target="_blank" rel="noopener">Discord</a>
        <a href="https://www.tiktok.com/@montecito.racing" target="_blank" rel="noopener">TikTok</a>
        <a href="#charity" class="btn-primary">Donate</a>
      </div>
      <button class="menu-button" onclick="toggleMenu()" aria-label="Toggle menu">
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
        <span>Menu</span>
      </button>
    </nav>
  </header>

  <div class="container">
    <!-- LOGO -->
    <section class="logo-wrap" aria-label="Team Logo">
      <!-- Replace with your actual logo file name or hosted URL -->
      <img src="logo2.png" alt="Montecito Racing Logo" onerror="this.style.display='none'">
    </section>

    <!-- ABOUT -->
    <section class="card">
      <h1>About</h1>
      <p class="lead">Montecito Racing was founded in the USA, built to expand racing opportunities for all skill levels and begin a tradition of motorsport dominance. From our drivers to our staff, we strive to instill teamwork, camaraderie, and respect everyday. No matter where we stand, we will race hard. Beyond competition, we use our platform to support cancer research at Cedars-Sinai Medical Center.</p>
      <a class="btn" href="#schedule">View Schedule</a>
    </section>

    <!-- GT3 IMPACT BAR -->
    <section class="impact-bar" aria-label="Campaign Impact Statistics" role="region">
      <div class="metrics-container">
        <!-- Metric 1: Total Raised -->
        <div class="metric-column">
          <svg class="metric-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>
          </svg>
          <div class="metric-number" data-target="500" aria-label="Five hundred dollars raised">$0</div>
          <div class="metric-label">RAISED FOR RESEARCH</div>
        </div>

        <!-- Divider -->
        <div class="metric-divider"></div>

        <!-- Metric 2: Contributors -->
        <div class="metric-column">
          <svg class="metric-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          <div class="metric-number" data-target="1" aria-label="One contributor">0</div>
          <div class="metric-label">CONTRIBUTORS</div>
        </div>

        <!-- Divider -->
        <div class="metric-divider"></div>

        <!-- Metric 3: Races Completed -->
        <div class="metric-column">
          <svg class="metric-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path>
            <line x1="4" y1="22" x2="4" y2="15"></line>
          </svg>
          <div class="metric-number" data-target="1" aria-label="One race completed">0</div>
          <div class="metric-label">RACES COMPLETED</div>
        </div>
      </div>

      <!-- Progress Bar Section -->
      <div class="progress-section">
        <div class="progress-labels">
          <span class="progress-percentage">0% funded</span>
          <span class="progress-goal">Goal: $1,000</span>
        </div>
        <div class="progress-track" role="progressbar" aria-valuenow="57" aria-valuemin="0" aria-valuemax="100">
          <div class="progress-fill" style="width: 0%"></div>
        </div>
      </div>
    </section>

    <!-- BANNER -->
    <section class="banner" aria-label="Hero Banner">
      <!-- Replace with your actual banner image file -->
      <img src="IMG_6212.jpeg" alt="Team Banner" onerror="this.style.display='none'">
    </section>

    <!-- CHARITY -->
    <section class="card" id="charity">
      <h2>Racing for a Cause</h2>
      <div style="display:flex; flex-wrap:wrap; gap:24px; align-items:center">
        <div style="flex:0 0 auto">
          <img src="cslogotransparent.png" alt="Cedars-Sinai Logo" style="max-width:180px; height:auto" onerror="this.style.display='none'">
        </div>
        <div style="flex:1; min-width:300px">
          <p class="lead">Montecito Racing exists to use motorsport as a platform for raising awareness and support for cancer research at Cedars-Sinai Medical Center. What began as a virtual simulator racing team now has a clear purpose: connecting medical excellence with the excitement of racing.</p>
          <p>Founder Andrew McDonald explains: "I grew up in Seattle and spent time in the care of Seattle Children's Hospital. That experience showed me how much a great hospital can shape your health and mindset. When I stumbled upon Cedars-Sinai and their work in cancer research, I see that same standard of care and impact."</p>
          <p>We're building toward full participation on real tracks, with endurance GT4 racing as our long-term target. Every race, event, and piece of content is an opportunity to highlight Cedars-Sinai's work and invite people to support it. Our vision is a program where donors, fans, and patients feel connected to what happens on track.</p>
          <p style="margin-top:18px"><strong>All donations made through this page go directly to Cedars-Sinai Medical Center for cancer research.</strong></p>
          <a class="btn" href="https://support.cedars-sinai.edu/MontecitoRacing" target="_blank" rel="noopener" style="margin-top:8px; display:inline-block">Support Cedars-Sinai</a>
        </div>
      </div>
    </section>

    <!-- SPONSORS / SCHEDULE -->
    <section class="grid">
      <div class="card" id="partners">
        <h2>Sponsors</h2>
        <p>We're currently in-seek of sponsors. Please refer to our email for further questions regarding promotion, placement, and pricing.</p>
      </div>
      <div class="card" id="schedule">
        <h2>Next Races</h2>
        <ul class="list">
          <li><strong>[JB vs Andy]</strong> â€” [12 November 2025] â€” [Car/Class]</li>
          <li><strong>[Race TBD]</strong> â€” [Date] â€” [Car/Class]</li>
          <li><strong>[Race TBD]</strong> â€” [Date] â€” [Car/Class]</li>
        </ul>
      </div>
    </section>

    <!-- ROSTER / ROLES -->
    <section class="grid">
      <div class="card">
        <h2>Roster</h2>
        <ul class="list">
          <li><strong>Amateur Simulator Driver:</strong> Jack Berry #2</li>
          <li><strong>Amateur Simulator Driver:</strong> Andrew McDonald #88</li>
        </ul>
      </div>
      <div class="card">
        <h2>Open Roles</h2>
        <p>For inquiries regarding driver try-outs, engineer, or strategy roles, please refer to a moderator in our Discord server or the email below.</p>
      </div>
    </section>

    <!-- CONTACT -->
    <section class="card" id="contact">
      <h2>Contact</h2>
      <p>Email: <a href="mailto:montecitoracing@gmail.com">montecitoracing@gmail.com</a></p>
    </section>

    <footer>Â© <span id="year"></span> Montecito Racing. All rights reserved.</footer>
  </div>
  <script>document.getElementById('year').textContent = new Date().getFullYear()</script>

  <!-- Load shared metrics configuration -->
  <script src="metrics-config.js"></script>

  <script>
    // ==========================================
    // ðŸ“Š IMPACT METRICS - UPDATE IN metrics-config.js
    // ==========================================
    // To update your donation stats, edit the metrics-config.js file
    // All changes there will automatically update here!
    // ==========================================

    const impactData = METRICS;

    // Counter Animation Function
    function animateCounter(element, target, duration, delay, prefix = '', suffix = '') {
      const startTime = Date.now() + delay;

      function update() {
        const now = Date.now();
        const elapsed = now - startTime;

        if (elapsed < 0) {
          requestAnimationFrame(update);
          return;
        }

        if (elapsed < duration) {
          const progress = elapsed / duration;
          // Ease-out function for smooth deceleration
          const easeOut = 1 - Math.pow(1 - progress, 3);
          const current = Math.floor(easeOut * target);

          // Format number with commas for dollar amounts
          const formatted = prefix === '$' ? current.toLocaleString('en-US') : current;
          element.textContent = prefix + formatted + suffix;

          requestAnimationFrame(update);
        } else {
          // Set final value
          const formatted = prefix === '$' ? target.toLocaleString('en-US') : target;
          element.textContent = prefix + formatted + suffix;
        }
      }

      requestAnimationFrame(update);
    }

    // Initialize Impact Bar on Page Load
    function initImpactBar() {
      const metricNumbers = document.querySelectorAll('.metric-number');
      const progressFill = document.querySelector('.progress-fill');
      const progressPercentage = document.querySelector('.progress-percentage');
      const progressBar = document.querySelector('.progress-track');

      // Update data-target attributes from METRICS config
      metricNumbers[0].setAttribute('data-target', impactData.totalRaised);
      metricNumbers[1].setAttribute('data-target', impactData.contributors);
      metricNumbers[2].setAttribute('data-target', impactData.racesCompleted);

      // Update goal text
      document.querySelector('.progress-goal').textContent = 'Goal: $' + impactData.goalAmount.toLocaleString('en-US');

      // Calculate progress percentage
      const percentage = Math.min((impactData.totalRaised / impactData.goalAmount) * 100, 100);

      // Animate each metric with stagger
      metricNumbers.forEach((numberElement, index) => {
        const target = parseInt(numberElement.getAttribute('data-target'));
        const delay = index * 150; // 0.15s stagger between each column
        const duration = 1500; // 1.5s animation

        // Determine prefix based on content
        const prefix = index === 0 ? '$' : '';

        animateCounter(numberElement, target, duration, delay, prefix);
      });

      // Animate progress bar
      setTimeout(() => {
        progressFill.style.width = percentage.toFixed(1) + '%';
        progressPercentage.textContent = Math.round(percentage) + '% funded';
        progressBar.setAttribute('aria-valuenow', Math.round(percentage));
      }, 300);
    }

    // Run on DOM ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initImpactBar);
    } else {
      initImpactBar();
    }

    // Function to update metrics (for future use when donations come in)
    function updateImpactMetrics(newData) {
      // Update the data object
      Object.assign(impactData, newData);

      // Re-animate the affected metrics
      const metricNumbers = document.querySelectorAll('.metric-number');
      const progressFill = document.querySelector('.progress-fill');
      const progressPercentage = document.querySelector('.progress-percentage');
      const progressBar = document.querySelector('.progress-track');

      // Update each metric if data changed
      if (newData.totalRaised !== undefined) {
        const element = metricNumbers[0];
        element.style.animation = 'numberCelebrate 0.5s ease-out';
        setTimeout(() => {
          element.style.animation = '';
          element.textContent = '$' + impactData.totalRaised.toLocaleString('en-US');
        }, 500);
      }

      if (newData.contributors !== undefined) {
        const element = metricNumbers[1];
        element.style.animation = 'numberCelebrate 0.5s ease-out';
        setTimeout(() => {
          element.style.animation = '';
          element.textContent = impactData.contributors;
        }, 500);
      }

      if (newData.racesCompleted !== undefined) {
        const element = metricNumbers[2];
        element.style.animation = 'numberCelebrate 0.5s ease-out';
        setTimeout(() => {
          element.style.animation = '';
          element.textContent = impactData.racesCompleted;
        }, 500);
      }

      // Update progress bar
      const percentage = Math.min((impactData.totalRaised / impactData.goalAmount) * 100, 100);
      progressFill.style.width = percentage.toFixed(1) + '%';
      progressPercentage.textContent = Math.round(percentage) + '% funded';
      progressBar.setAttribute('aria-valuenow', Math.round(percentage));
    }

    // Example: To manually update metrics, call:
    // updateImpactMetrics({ totalRaised: 3000, contributors: 25 });
  </script>

  <!-- Navigation Toggle Script -->
  <script>
    function toggleMenu() {
      const menuButton = document.querySelector('.menu-button');
      const navLinks = document.querySelector('.nav-links');
      const isOpen = navLinks.classList.contains('active');

      menuButton.classList.toggle('active');
      navLinks.classList.toggle('active');

      // Toggle body scroll lock
      if (!isOpen) {
        document.body.classList.add('nav-open');
      } else {
        document.body.classList.remove('nav-open');
      }
    }

    function closeMenu() {
      const menuButton = document.querySelector('.menu-button');
      const navLinks = document.querySelector('.nav-links');
      menuButton.classList.remove('active');
      navLinks.classList.remove('active');
      document.body.classList.remove('nav-open');
    }

    // Close menu when clicking on the overlay (not on a link)
    document.addEventListener('click', (e) => {
      const navLinks = document.querySelector('.nav-links');
      if (navLinks.classList.contains('active') && e.target === navLinks) {
        closeMenu();
      }
    });

    // Close menu when clicking a link
    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', closeMenu);
    });

    // Close menu on escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        const navLinks = document.querySelector('.nav-links');
        if (navLinks.classList.contains('active')) {
          closeMenu();
        }
      }
    });

    // Handle resize - close menu if window becomes wider than mobile breakpoint
    window.addEventListener('resize', () => {
      if (window.innerWidth > 900) {
        closeMenu();
      }
    });
  </script>
</body>
</html>
